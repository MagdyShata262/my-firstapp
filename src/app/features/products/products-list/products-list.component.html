<div class="container mx-auto px-4 py-8">
  <!-- العنوان وشريط التحكم - تحسين التخطيط -->
  <div
    class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4"
  >
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Products</h1>
      <p class="text-gray-600 mt-2">Manage your product inventory</p>
    </div>

    <div class="flex flex-wrap gap-3">
      <!-- زر إضافة منتج جديد - تحسين التفاعل -->
      <button
        (click)="openAddProductModal()"
        class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2"
        [attr.aria-label]="'Add new product'"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 4v16m8-8H4"
          ></path>
        </svg>
        Add Product
      </button>

      <!-- زر تحديث - تحسين الأداء -->
      <button
        (click)="refreshProducts()"
        [disabled]="loading$ | async"
        class="bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2"
      >
        <svg
          class="w-5 h-5"
          [class.animate-spin]="
            (loading$ | async) && ((allProducts$ | async) ?? []).length > 0
          "
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
          ></path>
        </svg>
        Refresh
      </button>

      <!-- زر مسح الفلاتر -->
      <button
        (click)="clearAllFilters()"
        class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
        Clear Filters
      </button>
    </div>
  </div>

  <!-- حالة التحميل - تحسين التصيير -->
  <div
    *ngIf="(loading$ | async) && (allProducts$ | async)?.length === 0"
    class="text-center py-12"
    [attr.aria-live]="'polite'"
    [attr.aria-busy]="'true'"
  >
    <div
      class="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"
    ></div>
    <p class="text-gray-600 mt-4 text-lg">Loading products...</p>
  </div>

  <!-- رسالة الخطأ -->
  <div
    *ngIf="(error$ | async) && !(loading$ | async)"
    class="bg-red-50 border border-red-200 rounded-lg p-6 mb-6"
    role="alert"
  >
    <div class="flex items-start gap-4">
      <div class="flex-1">
        <h3 class="text-red-800 font-semibold text-lg mb-2">
          Error Loading Products
        </h3>
        <p class="text-red-600">{{ error$ | async }}</p>
      </div>
      <button
        (click)="refreshProducts()"
        class="text-red-600 hover:text-red-800 transition-colors duration-200"
        aria-label="Retry loading products"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- شريط الفلاتر والبحث - تحسين الأداء -->
  <div
    *ngIf="!(loading$ | async) || ((allProducts$ | async) || []).length > 0"
    class="bg-white rounded-lg shadow-sm border p-6 mb-6"
  >
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <!-- البحث مع debounce -->
      <div class="md:col-span-2">
        <label
          for="search-input"
          class="block text-sm font-medium text-gray-700 mb-2"
        >
          Search Products
        </label>
        <div class="relative">
          <input
            id="search-input"
            type="text"
            placeholder="Search by title, description, or category..."
            [value]="searchQuery$ | async"
            (input)="onSearch($event)"
            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
            [attr.aria-describedby]="'search-help'"
          />
          <svg
            class="absolute left-3 top-3.5 w-4 h-4 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
        </div>
        <p id="search-help" class="text-xs text-gray-500 mt-1">
          Type to search products
        </p>
      </div>

      <!-- التصنيف -->
      <div>
        <label
          for="category-select"
          class="block text-sm font-medium text-gray-700 mb-2"
        >
          Category
        </label>
        <select
          id="category-select"
          [value]="(selectedCategory$ | async) || ''"
          (change)="onCategoryChange($event)"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        >
          <option value="">All Categories</option>
          <option
            *ngFor="
              let category of (categories$ | async) || [];
              trackBy: trackByCategory
            "
            [value]="category"
          >
            {{ category }}
          </option>
        </select>
      </div>

      <!-- الترتيب -->
      <div>
        <label
          for="sort-select"
          class="block text-sm font-medium text-gray-700 mb-2"
        >
          Sort By
        </label>
        <select
          id="sort-select"
          [value]="currentSortValue$ | async"
          (change)="onSortChange($event)"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        >
          <option value="">Default</option>
          <option value="title">Title A-Z</option>
          <option value="price">Price Low-High</option>
          <option value="price-desc">Price High-Low</option>
          <option value="category">Category</option>
        </select>
      </div>
    </div>

    <!-- إحصائيات سريعة - تحسين التحديث -->
    <div
      *ngIf="productStats$ | async as stats"
      class="mt-6 pt-6 border-t border-gray-200"
      [attr.aria-live]="'polite'"
    >
      <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
        <div class="text-center">
          <div
            class="text-2xl font-bold text-blue-600"
            [attr.data-testid]="'total-products'"
          >
            {{ stats.totalProducts }}
          </div>
          <div class="text-sm text-gray-600">Total Products</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-green-600">
            {{ stats.totalCategories }}
          </div>
          <div class="text-sm text-gray-600">Categories</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-yellow-600">
            {{ stats.avgPrice | currency : "USD" }}
          </div>
          <div class="text-sm text-gray-600">Avg Price</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-red-600">
            {{ stats.highestPrice | currency : "USD" }}
          </div>
          <div class="text-sm text-gray-600">Highest Price</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-purple-600">
            {{ stats.lowestPrice | currency : "USD" }}
          </div>
          <div class="text-sm text-gray-600">Lowest Price</div>
        </div>
      </div>
    </div>
  </div>

  <!-- نتائج البحث -->
  <div
    *ngIf="(searchQuery$ | async)?.trim() || (selectedCategory$ | async)"
    class="mb-4 flex items-center gap-2 text-sm text-gray-600"
    role="status"
  >
    <span>Filtered results:</span>
    <span class="font-semibold"
      >{{ (sortedProducts$ | async)?.length }} products</span
    >
    <button
      (click)="clearAllFilters()"
      class="text-blue-600 hover:text-blue-800 underline transition-colors duration-200"
    >
      Clear all
    </button>
  </div>

  <!-- قائمة المنتجات - تحسينات أداء كبيرة -->
  <div
    *ngIf="!(loading$ | async) || ((allProducts$ | async) || []).length > 0"
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8"
  >
    <!-- استخدام ng-container مع trackBy محسن -->
    <ng-container
      *ngFor="let product of products$ | async; trackBy: trackByProductId"
    >
      <div
        class="bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 overflow-hidden group product-card"
        [attr.data-product-id]="product.id"
        [class.opacity-50]="(operationInProgress$ | async) === product.id"
      >
        <!-- صورة المنتج مع تحسينات الأداء -->
        <div class="relative overflow-hidden">
          <img
            [src]="
              product.image || 'https://fakestoreapi.com/img/placeholder.jpg'
            "
            [alt]="product.title"
            (error)="handleImageError($event, product)"
            loading="lazy"
            decoding="async"
            class="w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300 p-3"
          />
          <!-- شريط التصنيف -->
          <div class="absolute top-3 left-3">
            <span
              class="bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold"
            >
              {{ product.category }}
            </span>
          </div>

          <!-- سعر المنتج -->
          <div class="absolute top-3 right-3">
            <span
              class="bg-green-600 text-white px-3 py-1 rounded-lg text-sm font-bold"
            >
              {{ product.price | currency : "USD" }}
            </span>
          </div>

          <!-- زر الإجراءات السريعة - تحسين التفاعل -->
          <div
            class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
          >
            <div class="flex gap-2">
              <a
                [routerLink]="['/products', product.id]"
                [queryParams]="{ view: 'details' }"
                class="bg-white text-blue-600 p-2 rounded-lg shadow-md hover:bg-blue-50 transition-colors duration-200"
                [attr.aria-label]="'View details for ' + product.title"
              >
                <svg
                  class="w-4 h-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  ></path>
                </svg>
              </a>
              <button
                (click)="editProduct(product)"
                class="bg-white text-yellow-600 p-2 rounded-lg shadow-md hover:bg-yellow-50 transition-colors duration-200"
                [attr.aria-label]="'Edit ' + product.title"
              >
                <svg
                  class="w-4 h-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                  ></path>
                </svg>
              </button>
              <button
                (click)="deleteProduct(product.id)"
                [disabled]="(operationInProgress$ | async) === product.id"
                class="bg-white text-red-600 p-2 rounded-lg shadow-md hover:bg-red-50 transition-colors duration-200 disabled:opacity-50"
                [attr.aria-label]="'Delete ' + product.title"
              >
                <svg
                  class="w-4 h-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                  ></path>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- محتوى البطاقة -->
        <div class="p-4">
          <h3
            class="font-bold text-lg text-gray-900 mb-2 line-clamp-2 leading-tight min-h-[3.5rem]"
          >
            {{ product.title }}
          </h3>

          <p class="text-gray-600 text-sm mb-4 line-clamp-2 min-h-[2.5rem]">
            {{ product.description }}
          </p>

          <!-- التقييم - مع memoization -->
          <div *ngIf="product.rating" class="flex items-center gap-2 mb-4">
            <div
              class="flex items-center"
              [attr.aria-label]="'Rating: ' + product.rating.rate + ' out of 5'"
            >
              <span
                *ngFor="
                  let star of getStars(product.rating.rate);
                  trackBy: trackByIndex
                "
                [class]="getStarClass(star.type)"
                class="text-lg"
              >
                {{ getStarIcon(star.type) }}
              </span>
            </div>
            <span class="text-sm text-gray-600">
              {{ product.rating.rate }} ({{ product.rating.count }} reviews)
            </span>
          </div>

          <!-- أزرار الإجراءات -->
          <div class="flex gap-2">
            <a
              [routerLink]="['/products', product.id]"
              [queryParams]="{ view: 'details' }"
              class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-semibold transition-colors duration-200 text-sm text-center flex items-center justify-center"
            >
              View Details
            </a>
            <button
              (click)="addToCart(product)"
              class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-semibold transition-colors duration-200 text-sm"
            >
              Add to Cart
            </button>
          </div>

          <!-- زر المفضلة -->
          <div class="mt-3 flex justify-center">
            <button
              (click)="toggleFavorite(product.id)"
              [class.text-red-500]="isFavorite(product.id) | async"
              [class.text-gray-400]="!(isFavorite(product.id) | async)"
              class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200"
              [attr.aria-label]="
                (isFavorite(product.id) | async)
                  ? 'Remove from favorites'
                  : 'Add to favorites'
              "
            >
              <svg
                class="w-5 h-5"
                [class.fill-current]="isFavorite(product.id) | async"
                [class.stroke-current]="!(isFavorite(product.id) | async)"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- لا توجد منتجات -->
  <div
    *ngIf="(sortedProducts$ | async)?.length === 0 && !(loading$ | async)"
    class="text-center py-12"
    role="status"
  >
    <svg
      class="w-24 h-24 text-gray-300 mx-auto mb-4"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1"
        d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0H4m16 0h-4m-4 0H8"
      ></path>
    </svg>
    <h3 class="text-xl font-semibold text-gray-600 mb-2">No products found</h3>
    <p class="text-gray-500 mb-6">
      Try adjusting your search or filter criteria
    </p>
    <button
      (click)="clearAllFilters()"
      class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200"
    >
      Clear Filters
    </button>
  </div>

  <!-- الترقيم - مع تحسين الأداء -->
  <div
    *ngIf="shouldShowPagination$ | async"
    class="flex flex-col sm:flex-row justify-between items-center gap-4 py-6 border-t border-gray-200"
    role="navigation"
    aria-label="Product pagination"
  >
    <div class="text-sm text-gray-600" [attr.aria-live]="'polite'">
      Showing {{ (displayRange$ | async)?.start }}-{{
        (displayRange$ | async)?.end
      }}
      of {{ (sortedProducts$ | async)?.length }} products
    </div>

    <div class="flex items-center gap-2">
      <button
        (click)="previousPage()"
        [disabled]="(currentPage$ | async) === 1"
        class="flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"
        aria-label="Previous page"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          ></path>
        </svg>
        Previous
      </button>

      <div class="flex gap-1" role="list" aria-label="Pagination pages">
        <button
          *ngFor="let page of visiblePages$ | async; trackBy: trackByIndex"
          (click)="goToPage(page)"
          [class.bg-blue-600]="page === (currentPage$ | async)"
          [class.text-white]="page === (currentPage$ | async)"
          [class.text-gray-700]="page !== (currentPage$ | async)"
          class="w-10 h-10 rounded-lg border transition-colors duration-200 hover:bg-blue-50"
          [attr.aria-label]="'Page ' + page"
          [attr.aria-current]="page === (currentPage$ | async) ? 'page' : null"
        >
          {{ page }}
        </button>
      </div>

      <button
        (click)="nextPage()"
        [disabled]="(currentPage$ | async) === (totalPages$ | async)"
        class="flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"
        aria-label="Next page"
      >
        Next
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          ></path>
        </svg>
      </button>
    </div>

    <div class="flex items-center gap-2 text-sm">
      <span class="text-gray-600">Items per page:</span>
      <select
        [value]="pageSize$ | async"
        (change)="onPageSizeChange($event)"
        class="border border-gray-300 rounded-lg px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        aria-label="Items per page"
      >
        <option value="12">12</option>
        <option value="24">24</option>
        <option value="48">48</option>
      </select>
    </div>
  </div>

  <!-- نافذة إضافة منتج - مع تحسين الأداء -->
  <div
    *ngIf="showAddProductModal()"
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 modal-overlay"
    role="dialog"
    aria-labelledby="modal-title"
    aria-modal="true"
  >
    <div
      class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-content"
      (click)="$event.stopPropagation()"
    >
      <div class="p-6 border-b border-gray-200">
        <h2 id="modal-title" class="text-2xl font-bold text-gray-900">
          Add New Product
        </h2>
      </div>

      <div class="p-6">
        <form
          (ngSubmit)="onAddProductSubmit()"
          class="space-y-4"
          #addProductForm="ngForm"
        >
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label
                for="product-title"
                class="block text-sm font-medium text-gray-700 mb-2"
              >
                Title *
              </label>
              <input
                id="product-title"
                type="text"
                [(ngModel)]="newProduct.title"
                name="title"
                required
                #title="ngModel"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 form-input"
                [class.border-red-300]="title.invalid && title.touched"
              />
              <div
                *ngIf="title.invalid && title.touched"
                class="text-red-500 text-xs mt-1"
              >
                Title is required
              </div>
            </div>

            <div>
              <label
                for="product-price"
                class="block text-sm font-medium text-gray-700 mb-2"
              >
                Price *
              </label>
              <input
                id="product-price"
                type="number"
                [(ngModel)]="newProduct.price"
                name="price"
                step="0.01"
                min="0"
                required
                #price="ngModel"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 form-input"
                [class.border-red-300]="price.invalid && price.touched"
              />
              <div
                *ngIf="price.invalid && price.touched"
                class="text-red-500 text-xs mt-1"
              >
                Valid price is required
              </div>
            </div>

            <div>
              <label
                for="product-category"
                class="block text-sm font-medium text-gray-700 mb-2"
              >
                Category *
              </label>
              <input
                id="product-category"
                type="text"
                [(ngModel)]="newProduct.category"
                name="category"
                required
                #category="ngModel"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 form-input"
                [class.border-red-300]="category.invalid && category.touched"
              />
              <div
                *ngIf="category.invalid && category.touched"
                class="text-red-500 text-xs mt-1"
              >
                Category is required
              </div>
            </div>

            <div>
              <label
                for="product-image"
                class="block text-sm font-medium text-gray-700 mb-2"
              >
                Image URL *
              </label>
              <input
                id="product-image"
                type="url"
                [(ngModel)]="newProduct.image"
                name="image"
                required
                #image="ngModel"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 form-input"
                [class.border-red-300]="image.invalid && image.touched"
              />
              <div
                *ngIf="image.invalid && image.touched"
                class="text-red-500 text-xs mt-1"
              >
                Valid image URL is required
              </div>
            </div>

            <div class="md:col-span-2">
              <label
                for="product-description"
                class="block text-sm font-medium text-gray-700 mb-2"
              >
                Description *
              </label>
              <textarea
                id="product-description"
                [(ngModel)]="newProduct.description"
                name="description"
                rows="4"
                required
                #description="ngModel"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 form-input"
                [class.border-red-300]="
                  description.invalid && description.touched
                "
              ></textarea>
              <div
                *ngIf="description.invalid && description.touched"
                class="text-red-500 text-xs mt-1"
              >
                Description is required
              </div>
            </div>
          </div>

          <div class="flex justify-end gap-3 pt-6">
            <button
              type="button"
              (click)="closeAddProductModal()"
              class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 font-semibold"
            >
              Cancel
            </button>
            <button
              type="submit"
              [disabled]="!isValidProduct() || addProductForm.invalid"
              class="bg-green-600 hover:bg-green-700 disabled:bg-green-300 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200"
            >
              Add Product
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
